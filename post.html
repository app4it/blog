<!DOCTYPE html>
<html lang="en">
  <script>
    // Check localStorage first, then system theme preference
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
      document.documentElement.setAttribute("data-theme", savedTheme);
    } else if (
      window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches
    ) {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light");
    }
  </script>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark" />
    <meta name="supported-color-schemes" content="light dark" />
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Read this post on the App4it Blog - Real Events. Real People. Real Stories." />
    <meta name="keywords" content="App4it blog, events, community" />

    <!-- Open Graph Tags -->
    <meta property="og:title" content="App4it Blog Post" />
    <meta property="og:description" content="Read this post on the App4it Blog" />
    <meta property="og:image" content="assets/icons/app_icon_light.png" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="App4it Blog" />

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="App4it Blog Post" />
    <meta name="twitter:description" content="Read this post on the App4it Blog" />
    <meta name="twitter:image" content="assets/icons/app_icon_light.png" />
    
    <title>Blog Post - App4it Blog</title>
    <!-- Favicons -->
    <link rel="shortcut icon" type="image/png" sizes="32x32" href="assets/icons/favicon_light.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/favicon_light.png" />
    <link rel="mask-icon" href="assets/icons/favicon_light.png" color="#000000" />
    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="css/global-styles.css" />
    <link rel="stylesheet" type="text/css" href="css/blog.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.0.0/css/flag-icons.min.css" rel="stylesheet" />
    <!-- Theme change listener -->
    <script>
      // Listen for system theme changes
      window
        .matchMedia("(prefers-color-scheme: dark)")
        .addEventListener("change", (e) => {
          document.documentElement.setAttribute(
            "data-theme",
            e.matches ? "dark" : "light"
          );
        });
    </script>
    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-SJTXC37LXF"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-SJTXC37LXF");
    </script>
    <script>
      // Dynamically set canonical and Open Graph URLs
      document.addEventListener('DOMContentLoaded', () => {
        // Create and set canonical link
        let canonicalLink = document.querySelector('link[rel="canonical"]');
        if (!canonicalLink) {
          canonicalLink = document.createElement('link');
          canonicalLink.rel = 'canonical';
          document.head.appendChild(canonicalLink);
        }
        canonicalLink.href = window.location.href.split('?')[0]; // Remove query params for canonical

        // Create and set Open Graph URL meta tag
        let ogUrlMeta = document.querySelector('meta[property="og:url"]');
        if (!ogUrlMeta) {
          ogUrlMeta = document.createElement('meta');
          ogUrlMeta.property = 'og:url';
          document.head.appendChild(ogUrlMeta);
        }
        ogUrlMeta.content = window.location.href;
      });
    </script>
  </head>
  <body>
    <a href="https://app4it.de" class="app4it-button" aria-label="Visit App4it website">
      <i class="fas fa-home"></i>
      <span>Visit App4it's Website</span>
    </a>
    <div id="settings-placeholder"></div>

    <div class="blog-post-container">
      <a href="./" class="blog-back-link">
        <i class="fas fa-arrow-left"></i>
        Back to Blog
      </a>

      <div id="blog-post-header"></div>
      <div id="blog-post-content"></div>
    </div>

    <button class="scroll-top" aria-label="Scroll to top"><i class="fas fa-arrow-up"></i></button>

    <div id="footer-placeholder"></div>

    <!-- Marked.js for markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
    <script src="js/components.js"></script>
    <script src="js/language.js"></script>
    <script src="js/index.js"></script>
    <script src="js/blog.js"></script>
  </body>
</html>

